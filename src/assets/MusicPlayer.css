@import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;500;700&display=swap');

:root {
  --primary-orange: #ff4500;
  --primary-white: #ffffff;
  --text-primary: #e0e0e0;
  --text-secondary: #a0a0a0;
  --bg-dark: #121212;
  --bg-light: #1c1c1c;
  --bg-very-light: #282828;
  --border-color: rgba(255, 255, 255, 0.1);
}

.player-layout {
  display: flex;
  gap: 30px;
  max-width: 800px;
  width: 100%;
  margin: auto;
  font-family: 'Inter', 'Segoe UI', sans-serif;
  transition: max-width 0.4s ease-in-out;
}

.player-layout.mini-mode {
  max-width: 440px;
  gap: 0;
}

.player-layout.mini-mode .playlist-container {
  margin-left: -15px;
}

.music-player-container, .playlist-container {
  padding: 28px;
  background: linear-gradient(145deg, var(--bg-light), var(--bg-dark));
  border-radius: 20px;
  box-shadow: 0 8px 32px rgba(0, 0, 0, 0.7);
  border: 1px solid var(--border-color);
}

.music-player-container {
  flex-shrink: 0;
  width: 380px;
  display: flex;
  flex-direction: column;
  justify-content: space-between;
}

.track-info { text-align: center; margin-bottom: 24px; }
.album-art {
  width: 100%;
  max-width: 250px;
  aspect-ratio: 1 / 1;
  border-radius: 16px;
  margin: 0 auto 24px;
  object-fit: cover;
  box-shadow: 0 0 15px rgba(255, 69, 0, 0.4), 0 0 30px rgba(255, 69, 0, 0.3);
}
.track-title { font-size: 26px; font-weight: 700; color: var(--primary-white); margin: 0; }
.track-artist { font-size: 16px; font-weight: 500; color: var(--primary-orange); margin-top: 8px; }

.progress-section { width: 100%; margin-bottom: 16px; }
.progress-bar-container { width: 100%; height: 10px; background-color: var(--bg-very-light); border-radius: 5px; cursor: pointer; margin-bottom: 8px; overflow: hidden; }
.progress-bar { height: 100%; background: linear-gradient(90deg, var(--primary-orange), #ff7e5f); border-radius: 5px; transition: width 0.1s linear; box-shadow: 0 0 10px var(--primary-orange); }
.time-display { width: 100%; display: flex; justify-content: space-between; font-size: 13px; font-weight: 500; color: var(--text-secondary); }

.main-controls { display: flex; align-items: center; justify-content: space-between; gap: 16px; margin-bottom: 24px; }
.control-btn { background: none; border: none; color: var(--text-primary); cursor: pointer; display: flex; align-items: center; justify-content: center; transition: all 0.2s ease; }
.control-btn:hover { color: var(--primary-orange); transform: scale(1.1); }
.play-pause-btn { background-color: var(--primary-orange); border-radius: 50%; width: 64px; height: 64px; color: var(--primary-white); box-shadow: 0 4px 15px rgba(255, 69, 0, 0.5); }
.play-pause-btn:hover { transform: scale(1.1); background-color: #ff6347; color: var(--primary-white); }
.mode-btn.active { color: var(--primary-orange); }

.volume-control { width: 100%; display: flex; align-items: center; gap: 12px; }
.volume-slider { -webkit-appearance: none; appearance: none; width: 100%; height: 6px; background: var(--bg-very-light); border-radius: 3px; outline: none; transition: opacity 0.2s; }
.volume-slider::-webkit-slider-thumb { -webkit-appearance: none; appearance: none; width: 18px; height: 18px; background: var(--primary-white); border-radius: 50%; cursor: pointer; border: 3px solid var(--primary-orange); }

.playlist-container {
  flex: 1;
  overflow-y: auto;
  max-height: 550px;
  transition: opacity 0.4s ease, margin-left 0.4s ease;
}

.player-layout.mini-mode .playlist-container .playlist {
  opacity: 0;
  pointer-events: none;
}

.playlist-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin: 0 0 20px;
  border-bottom: 1px solid var(--border-color);
  padding-bottom: 10px;
}

.playlist-title {
  margin: 0;
  font-size: 20px;
  font-weight: 700;
  color: var(--primary-white);
}

.mini-mode-toggle {
  padding: 4px;
  border-radius: 6px;
}
.mini-mode-toggle:hover {
  background-color: var(--bg-very-light);
  color: var(--primary-orange);
}

.playlist { list-style: none; padding: 0; margin: 0; }
.playlist-item { display: flex; align-items: center; gap: 15px; padding: 12px; border-radius: 8px; cursor: pointer; transition: background-color 0.2s; }
.playlist-item:hover { background-color: var(--bg-very-light); }
.playlist-item.active { background-color: rgba(255, 69, 0, 0.2); }
.playlist-item-artwork { width: 45px; height: 45px; border-radius: 6px; object-fit: cover; }
.playlist-item-info { flex: 1; display: flex; flex-direction: column; }
.playlist-item-title { font-size: 15px; font-weight: 500; color: var(--text-primary); }
.playlist-item-artist { font-size: 13px; color: var(--text-secondary); }
.playing-indicator { display: flex; align-items: flex-end; gap: 2px; width: 20px; height: 16px; color: var(--primary-orange); }
.playing-indicator span { width: 3px; height: 100%; background-color: var(--primary-orange); border-radius: 2px; animation: bounce 1.2s ease-in-out infinite; }
.playing-indicator span:nth-child(2) { animation-delay: -0.2s; }
.playing-indicator span:nth-child(3) { animation-delay: -0.4s; }

@keyframes bounce {
  0%, 100% { transform: scaleY(0.4); }
  50% { transform: scaleY(1.0); }
}

@media (max-width: 820px) {
  .player-layout { flex-direction: column; max-width: 440px; }
  .music-player-container, .playlist-container { max-height: none; width: 100%; }
}

.loading-player {
  color: var(--text-primary);
  font-size: 18px;
  padding: 40px;
  text-align: center;
}